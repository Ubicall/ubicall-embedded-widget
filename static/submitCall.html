<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <link href="https://cdn.ubicall.com/static/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.ubicall.com/static/font-awesome/css/font-awesome.css" rel="stylesheet">
  <link href="https://cdn.ubicall.com/static/ubicall/css/widget/widget.css" rel="stylesheet">
  <link href="https://cdn.ubicall.com/static/animsition/dist/css/animsition.min.css" rel="stylesheet">
</head>

<body>

  <!-- Header -->

  <div id="header">
    <a onClick="javascript:history.go(-1)">
      <i class="fa fa-chevron-left fa-left"></i>
    </a>
    <a href="#" onclick="UbiCallManager.goToHomeScreen()">
      <i class="fa fa-home fa-right"></i>
    </a>
    <h3>Support Agent</h3>
  </div>

  <!-- Animsition -->

  <div class="animsition">

    <!-- Pages -->

    <div id="pages-phone">

      <img src="https://cdn.ubicall.com/static/ubicall/images/time-icon.png" class="phone-icon" alt="" />

      <h2>Average Waiting Time</h2>

      <h3>ASAP</h3>

      <div class="phone-02">

        <h4>Schedule a call in:</h4>

        <div>
          <div class="radio wid-48">
            <label>
              <input type="radio" name="optradio" id="asap" checked>ASAP</label>
          </div>
          <div class="radio wid-48">
            <label>
              <input type="radio" name="optradio" id="sele-time">Select Time</label>
          </div>
          <input type="text" class="form-control input-phone" placeholder="Hours" id="hou" readonly> -
          <input type="text" class="form-control input-phone" placeholder="Minutes" id="min" readonly>
          <div class="phoneNumber form-group">
            <input type="text" id="phone" name="phone" class="form-control" placeholder="Please enter your phone number">
          </div>
          <button type="submit" class="btn btn-default btn-02" onclick="submitPhoneCall()">Call Me</button>
          <button type="submit" class="btn btn-default btn-03" onclick="UbiCallManager.goToHomeScreen()">Cancel</button>
        </div>

      </div>

    </div>


    <!-- Page End -->


    <!-- Animsition End -->

    <!-- js -->

    <script src="https://cdn.ubicall.com/static/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.ubicall.com/static/animsition/dist/js/jquery.animsition.min.js"></script>
    <script src="https://platform.ubicall.com/widget/callmanager.js"></script>
    <script>
      $(document).ready(function() {

        $("#sele-time").click(function() {
          $('#hou').prop('readonly', false);
          $('#min').prop('readonly', false);
        });
        $("#asap").click(function() {
          $('#hou').attr('readonly', 'readonly');
          $('#min').attr('readonly', 'readonly');
        });

        $(".animsition").animsition({

          inClass               :   'fade-in-right-sm',
          outClass              :   'fade-out-right-sm',
          inDuration            :    300,
          outDuration           :    300,
          linkElement           :   '.animsition-link',
          loading               :    true,
          loadingParentElement  :   'body', //animsition wrapper element
          loadingClass          :   'animsition-loading',
          unSupportCss          : [ 'animation-duration',
                                    '-webkit-animation-duration',
                                    '-o-animation-duration'
                                  ],
          overlay               :   false,

          overlayClass          :   'animsition-overlay-slide',
          overlayParentElement  :   'body'
        });
      });
      function submitPhoneCall(){
        var phoneNumber = $('#phone').val();
        var time;
        if ($('#sele-time').is(':checked')) {
          time = $('#hou').text() + ':' + $('#min').text();
        }
        if(phoneNumber){
            UbiCallManager.schedulePhoneCall(phoneNumber,time);
        }else {
          $('.phoneNumber').addClass('has-error');
        }
      }
    </script>

    <!-- js End -->

</body>

</html>
